<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .new-text-style {
            margin: 10px auto;
            display: block;
        }

        div {
            display: flex;
            flex-direction: column;
            width: 100%;
            justify-content: center;
            text-align: center;
            align-items: center;

        }
    </style>

</head>

<body>
    <script>

        // Create a new element
        const newElement = document.createElement('div');
        const newPara = document.createElement('input');
        const newPara2 = document.createElement('input');
        const btnElab = document.createElement('button');

        // Set attributes (if needed)
        newElement.setAttribute('id', 'new-paragraph');
        newElement.setAttribute('class', 'paragraph-style');

        // Set content
        newPara.type = 'text';
        newPara.name = 'text';
        newPara.placeholder = "Please Enter The Name"
        newPara2.type = 'date';
        newPara2.name = 'date';
        newPara2.placeholder = "Please Enter The time"
        newPara2.textContent = 'This is a newly created paragraph element for the text enter!';
        btnElab.textContent = "Button"
        btnElab.type = "submit"
        btnElab.name = "submit"


        // Append the new element to the body of the document
        document.body.appendChild(newElement);
        newElement.appendChild(newPara)
        newElement.appendChild(newPara2)
        newElement.appendChild(btnElab)

        // add style here
        let newStyleOfPara = newElement.querySelectorAll("input");

        newStyleOfPara.forEach(paraGraph => {
            paraGraph.setAttribute('class', 'new-text-style');
        });
        function storeData() {
            const dataOfDate = document.getElementsByName('date')[0].value;
            const dataOfText = document.getElementsByName('text')[0].value;

            // Check if the input fields are empty
            if (dataOfDate.trim() === '' || dataOfText.trim() === '') {
                console.log('Both input fields must be filled to store data.');
                return;
                // Exit the function early if inputs are empty
            }
            // Check if there is existing data in local storage


            let existingData = JSON.parse(localStorage.getItem('allData')) || [];
            const isDuplicate = existingData.some(data => data.date === dataOfDate && data.text === dataOfText);


            if (isDuplicate) {
                console.log('Data already exists in local storage. Skipping storage.');
            } else {
                // Add the new data to the existing data
                existingData.push({ date: dataOfDate, text: dataOfText });

                // Save the updated data to local storage
                localStorage.setItem('allData', JSON.stringify(existingData));

                console.log('Data stored successfully!');
            }

            // Call the loadData function to display existing data after storing new data
        }

        // Function to load data from local storage
        function loadData() {
            let allData = JSON.parse(localStorage.getItem('allData')) || [];

            // Display the data on the page
            allData.forEach(data => {
                // we will display the data here
                const dataElem = document.createElement('div');
                const displayText = document.createElement('p');
                const displayText2 = document.createElement('p');



                dataElem.appendChild(displayText)

                displayText.textContent = data.text;
                displayText2.textContent = data.date;
                document.body.appendChild(dataElem);
                dataElem.appendChild(displayText);
                dataElem.appendChild(displayText2);

            });
        }



        btnElab.addEventListener('click', storeData);

        // Call the loadData function to display existing data on page load
        loadData();







    </script>
</body>

</html>